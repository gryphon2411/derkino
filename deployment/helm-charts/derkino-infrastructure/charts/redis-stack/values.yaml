# Default values for Redis-Stack subchart

# Namespace configuration
namespace:
  create: true
  name: redis-stack-system

# Secret configuration
secret:
  name: redis-stack-default-user-credentials
  username: default
  # Password provided via Kubernetes Secret

# Service configuration
service:
  name: redis-stack
  type: NodePort
  ports:
    default:
      port: 6379
      targetPort: 6379
    http:
      port: 8001
      targetPort: 8001

# StatefulSet configuration
statefulset:
  name: redis-stack
  replicas: {{ .Values.replicaCount | default(1) }}
  image:
    repository: {{ .Values.image.repository | default("redis/redis-stack") }}
    tag: {{ .Values.image.tag | default("latest") }}
  containerPorts:
    default: {{ .Values.service.ports.default.port | default(6379) }}
    http: {{ .Values.service.ports.http.port | default(8001) }}
  env:
    REDIS_DEFAULT_PASS: "{{ .Values.secret.password }}"
    REDIS_ARGS: "--requirepass $(REDIS_DEFAULT_PASS)"